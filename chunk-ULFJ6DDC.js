import{a as ye,b as be}from"./chunk-S2YBCPBD.js";import{a as Ee,b as v,c as Se,d as Me,e as Ie,f as xe,g as Ce,h as L,i as we,l as Fe,n as Re,o as Te,p as Le,q as Ae,r as He,s as De,t as y}from"./chunk-33QD4ZPZ.js";import"./chunk-AESYL7IM.js";import{Ba as z,Da as ve,g as F,l as ce,m as me,p as fe,q as pe,r as ge,wa as _e}from"./chunk-N4H5RSHY.js";import{B as T,F as V,N as B,O as he,P as ue,a as ae,o as le,v as R,w as j,x as de}from"./chunk-HV2KXSGT.js";import{o as oe}from"./chunk-3ZIVA6RU.js";import{Eb as C,Fb as p,Ga as K,Hb as Q,Hc as re,Nb as a,Ob as l,Pa as Y,Pb as O,Qa as X,Ra as k,Sa as P,Ub as ee,Vb as u,ec as g,f as E,fc as te,ic as ie,ja as G,jc as w,k as $,ka as S,kb as f,lb as o,ma as W,nc as ne,oa as D,oc as se,pa as h,tb as x,va as m,wa as M,wb as J,xa as I,ya as N}from"./chunk-VZSI5UTT.js";import"./chunk-SIAVTO45.js";var Ne=de({passive:!0}),ke=(()=>{let i=class i{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return $;let t=V(e),n=this._monitoredElements.get(t);if(n)return n.subject;let r=new E,d="cdk-text-field-autofilled",b=c=>{c.animationName==="cdk-text-field-autofill-start"&&!t.classList.contains(d)?(t.classList.add(d),this._ngZone.run(()=>r.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&t.classList.contains(d)&&(t.classList.remove(d),this._ngZone.run(()=>r.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",b,Ne),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",b,Ne)}}),r}stopMonitoring(e){let t=V(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}};i.\u0275fac=function(t){return new(t||i)(D(R),D(x))},i.\u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();var Pe=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=I({type:i}),i.\u0275inj=S({});let s=i;return s})();var We=new W("MAT_INPUT_VALUE_ACCESSOR"),Ke=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Ye=0,Oe=(()=>{let i=class i{get disabled(){return this._disabled}set disabled(e){this._disabled=T(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(v.required)??!1}set required(e){this._required=T(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&j().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=T(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,n,r,d,b,c,qe,Ue,U){this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=qe,this._formField=U,this._uid=`mat-input-${Ye++}`,this.focused=!1,this.stateChanges=new E,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>j().has(H)),this._iOSKeyupListener=H=>{let _=H.target;!_.value&&_.selectionStart===0&&_.selectionEnd===0&&(_.setSelectionRange(1,1),_.setSelectionRange(0,0))};let A=this._elementRef.nativeElement,Z=A.nodeName.toLowerCase();this._inputValueAccessor=c||A,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&Ue.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new he(b,n,d,r,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=Z==="select",this._isTextarea=Z==="textarea",this._isInFormField=!!U,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let t=this._elementRef.nativeElement;this._previousPlaceholder=e,e?t.setAttribute("placeholder",e):t.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Ke.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}};i.\u0275fac=function(t){return new(t||i)(o(P),o(R),o(Se,10),o(xe,8),o(L,8),o(ue),o(We,10),o(ke),o(x),o(He,8))},i.\u0275dir=N({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,n){t&1&&u("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),t&2&&(ee("id",n.id)("disabled",n.disabled)("required",n.required),C("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),Q("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[m.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[ie([{provide:Ae,useExisting:i}]),K]});let s=i;return s})(),je=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=I({type:i}),i.\u0275inj=S({imports:[B,y,y,Pe,B]});let s=i;return s})();var Ve="admin@admin.com",Be="adminadmin";var ze=(()=>{let i=class i{constructor(){this.fb=h(Fe),this.router=h(F),this.authCredits=k.required(),this.loginLoadingStatus=k.required(),this.login=X(),this.form=this.fb.nonNullable.group({email:[Ve,v.required],password:[Be,v.required]}),this.passwordVisibility=!0,re(()=>{this.authCredits()?.uid&&this.router.navigateByUrl("").catch(()=>{})})}changePasswordVisibility(){this.passwordVisibility=!this.passwordVisibility}onSubmit(){this.login.emit({email:this.form.controls.email.value,password:this.form.controls.password.value})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=M({type:i,selectors:[["login"]],inputs:{authCredits:[m.SignalBased,"authCredits"],loginLoadingStatus:[m.SignalBased,"loginLoadingStatus"]},outputs:{login:"login"},standalone:!0,features:[w],decls:16,vars:6,consts:[[1,"login-form",3,"ngSubmit","formGroup"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(t,n){t&1&&(a(0,"h1"),g(1,"Login"),l(),a(2,"form",0),u("ngSubmit",function(){return n.onSubmit()}),a(3,"mat-form-field")(4,"mat-label"),g(5,"Enter your email"),l(),O(6,"input",1),l(),a(7,"mat-form-field")(8,"mat-label"),g(9,"Enter your password"),l(),O(10,"input",2),a(11,"button",3),u("click",function(){return n.changePasswordVisibility()}),a(12,"mat-icon"),g(13),l()()(),a(14,"button",4),g(15,"Sign In"),l()()),t&2&&(f(2),p("formGroup",n.form),f(8),p("type",n.passwordVisibility?"password":"text"),f(),C("aria-label","Hide password")("aria-pressed",n.passwordVisibility),f(2),te(n.passwordVisibility?"visibility_off":"visibility"),f(),p("disabled",n.form.invalid||n.loginLoadingStatus().loading))},dependencies:[Re,Ce,Ee,Me,Ie,L,we,y,De,Te,Le,je,Oe,ge,fe,pe,me,ce],styles:["[_nghost-%COMP%]{align-items:center;display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:max-content}"],changeDetection:0});let s=i;return s})();var Gt=(()=>{let i=class i{constructor(){this.store=h(le),this.authorizationService=h(_e),this.router=h(F),this.destroyRef=h(Y),this.authCredits$=this.store.select(be.authCredits.data),this.loginLoadingStatus=J(z.default)}login(e){this.authorizationService.login(e.email,e.password).pipe(ae(this.destroyRef)).subscribe(t=>{ve.success({message:"You are logged"}),this.loginLoadingStatus.set(z.loaded),this.store.dispatch(ye.setAuthCredits({data:{uid:t.user.uid}})),this.router.navigateByUrl("").catch(()=>{})})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=M({type:i,selectors:[["login-container"]],standalone:!0,features:[w],decls:2,vars:4,consts:[[3,"login","authCredits","loginLoadingStatus"]],template:function(t,n){t&1&&(a(0,"login",0),ne(1,"async"),u("login",function(d){return n.login(d)}),l()),t&2&&p("authCredits",se(1,2,n.authCredits$))("loginLoadingStatus",n.loginLoadingStatus())},dependencies:[ze,oe],encapsulation:2,changeDetection:0});let s=i;return s})();export{Gt as default};
